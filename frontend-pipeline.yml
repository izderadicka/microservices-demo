default:
  image: izderadicka/nodechrome
  tags: 
    - microservices
# Cache downloaded dependencies and plugins between builds.
# To keep cache across branches add 'key: "$CI_JOB_NAME"'
  cache:
    paths:
      - .npm/
    key:
      files: 
      - angular-tutorial-heroes/package-lock.json

build-test:
  stage: test
  script:
  - cd angular-tutorial-heroes
  - npm ci --cache ../.npm --prefer-offline
  - npm run build
  - npm run test
    